<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sois ma Valentine ?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #ffe4e6;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }
        .runaway-btn {
            transition: top 0.3s ease-out, left 0.3s ease-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [yesPressed, setYesPressed] = useState(false);
            const [position, setPosition] = useState({ top: "auto", left: "auto" });
            const [isAbsolute, setIsAbsolute] = useState(false);

            const moveButton = (e) => {
                // Dimensions de la fen√™tre
                const winWidth = window.innerWidth;
                const winHeight = window.innerHeight;

                // Taille estim√©e du bouton (on prend large pour √™tre s√ªr)
                const btnWidth = 200;
                const btnHeight = 80;

                // Marge de s√©curit√© importante pour PC 14 pouces
                const safeMargin = 30;

                // Calcul des limites s√ªres
                const minLeft = safeMargin;
                const maxLeft = winWidth - btnWidth - safeMargin;
                
                const minTop = safeMargin;
                const maxTop = winHeight - btnHeight - safeMargin;

                // S'assurer que les valeurs sont positives
                const safeMaxLeft = Math.max(minLeft, maxLeft);
                const safeMaxTop = Math.max(minTop, maxTop);

                // G√©n√©ration al√©atoire dans les limites
                const randomLeft = minLeft + Math.floor(Math.random() * (safeMaxLeft - minLeft));
                const randomTop = minTop + Math.floor(Math.random() * (safeMaxTop - minTop));

                console.log(`Fen√™tre: ${winWidth}x${winHeight}, Position: ${randomLeft}x${randomTop}`);

                setIsAbsolute(true);
                setPosition({ top: `${randomTop}px`, left: `${randomLeft}px` });
            };

            return (
                <div className="flex flex-col items-center justify-center h-screen w-screen selection:bg-rose-500 selection:text-white relative overflow-hidden">
                    {yesPressed ? (
                        /* √âcran de succ√®s */
                        <div className="text-center animate-bounce-slow">
                            <img 
                                src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" 
                                alt="Bisous ours" 
                                className="h-64 mx-auto rounded-xl shadow-lg border-4 border-white"
                            />
                            <div className="text-5xl font-bold my-6 text-rose-600 drop-shadow-sm">
                                Yaaay !!! C'est reparti pour un tour ! ‚ù§Ô∏è
                            </div>
                            <p className="text-xl text-rose-400">Je t'aime, merci pour ces 2 ans üíã</p>
                        </div>
                    ) : (
                        /* √âcran de la question */
                        <div className="text-center px-4">
                            <img 
                                src="https://media.tenor.com/kRyTCwH8s4sAAAAi/bear-love.gif" 
                                alt="Ours mignon" 
                                className="h-56 mx-auto mb-6 rounded-xl"
                            />
                            
                            <h1 className="text-4xl md:text-5xl font-bold text-rose-600 mb-12 drop-shadow-sm leading-tight">
                                Esther, 2 ans d√©j√†... <br/> Veux-tu continuer l'aventure avec moi ?
                            </h1>

                            <div className="flex flex-row items-center justify-center gap-8 relative w-full h-20">
                                {/* Bouton OUI */}
                                <button
                                    className="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full text-2xl shadow-lg transform transition hover:scale-110 z-10"
                                    onClick={() => setYesPressed(true)}
                                >
                                    OUI ‚ù§Ô∏è
                                </button>

                                {/* Bouton NON (Impossible √† cliquer) */}
                                <button
                                    className="bg-red-400 text-white font-bold py-3 px-8 rounded-full text-2xl shadow-lg runaway-btn z-50 whitespace-nowrap"
                                    style={
                                        isAbsolute 
                                        ? { position: 'fixed', top: position.top, left: position.left } 
                                        : { position: 'relative' }
                                    }
                                    onMouseEnter={moveButton}
                                    onClick={moveButton}
                                    onTouchStart={moveButton}
                                >
                                    Non üò¢
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
